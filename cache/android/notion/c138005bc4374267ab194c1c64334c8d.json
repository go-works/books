{
  "ID": "c138005b-c437-4267-ab19-4c1c64334c8d",
  "Root": {
    "alive": true,
    "content": [
      "6d8bb8d3-5c04-4493-a02b-c8519d8d57cf",
      "25205a06-4a43-4eb5-a70b-706f1fc1f9cc",
      "3182fd87-d34f-49c2-a2af-e0c3f2cdb3ab",
      "35142ae4-03fc-41a9-8401-5cd6f5e87e63",
      "dc4e48f0-ba71-453c-9c3c-67bc9fd6bb6a",
      "487c6a68-485f-45ca-bbc9-a21717eb43ab",
      "5d7b78f4-4859-42f0-a142-709bda108ee9",
      "da6ce572-0249-4dfd-9d26-6ee532b4de79",
      "524cc65f-8812-4f96-9c3c-4a337c909fd7",
      "910b9f6c-d595-43cc-a9d0-4c2312e87032",
      "cc744d56-6d9f-4f1d-87d6-039c35a6bd9f",
      "3a45815c-f3e5-46c7-b900-f5d1591f2ac0"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550445330422,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "c138005b-c437-4267-ab19-4c1c64334c8d",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550445330422,
    "parent_id": "1ef1aff9-7d3c-456d-abfd-937eb8756547",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Scheduling notifications"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330418,
        "id": "6d8bb8d3-5c04-4493-a02b-c8519d8d57cf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330418,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Sometimes it is required to display a notification at a specific time, a task that unfortunately is not trivial on the Android system, as there is no method "
            ],
            [
              "setTime()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " or similiar for notifications. This example outlines the steps needed to schedule notifications using the "
            ],
            [
              "AlarmManager",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Sometimes it is required to display a notification at a specific time, a task that unfortunately is not trivial on the Android system, as there is no method "
          },
          {
            "Text": "setTime()",
            "AttrFlags": 2
          },
          {
            "Text": " or similiar for notifications. This example outlines the steps needed to schedule notifications using the "
          },
          {
            "Text": "AlarmManager",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330419,
        "id": "25205a06-4a43-4eb5-a70b-706f1fc1f9cc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330419,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add a ",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "BroadcastReceiver",
              [
                [
                  "b"
                ],
                [
                  "c"
                ]
              ]
            ],
            [
              " that listens to "
            ],
            [
              "Intent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "s broadcasted by the Android "
            ],
            [
              "AlarmManager",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add a ",
            "AttrFlags": 1
          },
          {
            "Text": "BroadcastReceiver",
            "AttrFlags": 3
          },
          {
            "Text": " that listens to "
          },
          {
            "Text": "Intent",
            "AttrFlags": 2
          },
          {
            "Text": "s broadcasted by the Android "
          },
          {
            "Text": "AlarmManager",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330419,
        "id": "3182fd87-d34f-49c2-a2af-e0c3f2cdb3ab",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330419,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is the place where you build your notification based on the extras provided with the "
            ],
            [
              "Intent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is the place where you build your notification based on the extras provided with the "
          },
          {
            "Text": "Intent",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330420,
        "id": "35142ae4-03fc-41a9-8401-5cd6f5e87e63",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330420,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class NotificationReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // Build notification based on Intent\n        Notification notification = new NotificationCompat.Builder(context)\n            .setSmallIcon(R.drawable.ic_notification_small_icon)\n            .setContentTitle(intent.getStringExtra(\"title\", \"\"))\n            .setContentText(intent.getStringExtra(\"text\", \"\"))\n            .build();\n        // Show notification\n        NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        manager.notify(42, notification);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class NotificationReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // Build notification based on Intent\n        Notification notification = new NotificationCompat.Builder(context)\n            .setSmallIcon(R.drawable.ic_notification_small_icon)\n            .setContentTitle(intent.getStringExtra(\"title\", \"\"))\n            .setContentText(intent.getStringExtra(\"text\", \"\"))\n            .build();\n        // Show notification\n        NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        manager.notify(42, notification);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330420,
        "id": "dc4e48f0-ba71-453c-9c3c-67bc9fd6bb6a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330420,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Register the ",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "BroadcastReceiver",
              [
                [
                  "b"
                ],
                [
                  "c"
                ]
              ]
            ],
            [
              " in your "
            ],
            [
              "AndroidManifest.xml",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " file (otherwise the receiver won’t receive any "
            ],
            [
              "Intent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "s from the "
            ],
            [
              "AlarmManager",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "):"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Register the ",
            "AttrFlags": 1
          },
          {
            "Text": "BroadcastReceiver",
            "AttrFlags": 3
          },
          {
            "Text": " in your "
          },
          {
            "Text": "AndroidManifest.xml",
            "AttrFlags": 2
          },
          {
            "Text": " file (otherwise the receiver won’t receive any "
          },
          {
            "Text": "Intent",
            "AttrFlags": 2
          },
          {
            "Text": "s from the "
          },
          {
            "Text": "AlarmManager",
            "AttrFlags": 2
          },
          {
            "Text": "):"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330420,
        "id": "487c6a68-485f-45ca-bbc9-a21717eb43ab",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330420,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003creceiver\n    android:name=\".NotificationReceiver\"\n    android:enabled=\"true\" /\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003creceiver\n    android:name=\".NotificationReceiver\"\n    android:enabled=\"true\" /\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330421,
        "id": "5d7b78f4-4859-42f0-a142-709bda108ee9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330421,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Schedule a notification",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " by passing a "
            ],
            [
              "PendingIntent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " for your "
            ],
            [
              "BroadcastReceiver",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " with the needed "
            ],
            [
              "Intent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " extras to the system "
            ],
            [
              "AlarmManager",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". Your "
            ],
            [
              "BroadcastReceiver",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " will receive the "
            ],
            [
              "Intent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " once the given time has arrived and display the notification. The following method schedules a notification:"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Schedule a notification",
            "AttrFlags": 1
          },
          {
            "Text": " by passing a "
          },
          {
            "Text": "PendingIntent",
            "AttrFlags": 2
          },
          {
            "Text": " for your "
          },
          {
            "Text": "BroadcastReceiver",
            "AttrFlags": 2
          },
          {
            "Text": " with the needed "
          },
          {
            "Text": "Intent",
            "AttrFlags": 2
          },
          {
            "Text": " extras to the system "
          },
          {
            "Text": "AlarmManager",
            "AttrFlags": 2
          },
          {
            "Text": ". Your "
          },
          {
            "Text": "BroadcastReceiver",
            "AttrFlags": 2
          },
          {
            "Text": " will receive the "
          },
          {
            "Text": "Intent",
            "AttrFlags": 2
          },
          {
            "Text": " once the given time has arrived and display the notification. The following method schedules a notification:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330421,
        "id": "da6ce572-0249-4dfd-9d26-6ee532b4de79",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330421,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public static void scheduleNotification(Context context, long time, String title, String text) {\n    Intent intent = new Intent(context, NotificationReceiver.class);\n    intent.putExtra(\"title\", title);\n    intent.putExtra(\"text\", text);\n    PendingIntent pending = PendingIntent.getBroadcast(context, 42, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    // Schdedule notification\n    AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, time, pending);\n}\n\n*Please note that the `42` above needs to be unique for each scheduled notification, otherwise the `PendingIntent`s will replace each other causing undesired effects!*"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public static void scheduleNotification(Context context, long time, String title, String text) {\n    Intent intent = new Intent(context, NotificationReceiver.class);\n    intent.putExtra(\"title\", title);\n    intent.putExtra(\"text\", text);\n    PendingIntent pending = PendingIntent.getBroadcast(context, 42, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    // Schdedule notification\n    AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, time, pending);\n}\n\n*Please note that the `42` above needs to be unique for each scheduled notification, otherwise the `PendingIntent`s will replace each other causing undesired effects!*",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330422,
        "id": "524cc65f-8812-4f96-9c3c-4a337c909fd7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330422,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Cancel a notification",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " by rebuilding the associated "
            ],
            [
              "PendingIntent",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and canceling it on the system "
            ],
            [
              "AlarmManager",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". The following method cancels a notification:"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Cancel a notification",
            "AttrFlags": 1
          },
          {
            "Text": " by rebuilding the associated "
          },
          {
            "Text": "PendingIntent",
            "AttrFlags": 2
          },
          {
            "Text": " and canceling it on the system "
          },
          {
            "Text": "AlarmManager",
            "AttrFlags": 2
          },
          {
            "Text": ". The following method cancels a notification:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330422,
        "id": "910b9f6c-d595-43cc-a9d0-4c2312e87032",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330422,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public static void cancelNotification(Context context, String title, String text) {\n    Intent intent = new Intent(context, NotificationReceiver.class);\n    intent.putExtra(\"title\", title);\n    intent.putExtra(\"text\", text);\n    PendingIntent pending = PendingIntent.getBroadcast(context, 42, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    // Cancel notification\n    AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    manager.cancel(pending);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public static void cancelNotification(Context context, String title, String text) {\n    Intent intent = new Intent(context, NotificationReceiver.class);\n    intent.putExtra(\"title\", title);\n    intent.putExtra(\"text\", text);\n    PendingIntent pending = PendingIntent.getBroadcast(context, 42, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n    // Cancel notification\n    AlarmManager manager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    manager.cancel(pending);\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330422,
        "id": "cc744d56-6d9f-4f1d-87d6-039c35a6bd9f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330422,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445330422,
        "id": "3a45815c-f3e5-46c7-b900-f5d1591f2ac0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445330422,
        "parent_id": "c138005b-c437-4267-ab19-4c1c64334c8d",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Note that the ",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              "42",
              [
                [
                  "i"
                ],
                [
                  "c"
                ]
              ]
            ],
            [
              " above needs to match the number from step 3!",
              [
                [
                  "i"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Note that the ",
            "AttrFlags": 4
          },
          {
            "Text": "42",
            "AttrFlags": 6
          },
          {
            "Text": " above needs to match the number from step 3!",
            "AttrFlags": 4
          }
        ]
      }
    ],
    "title": "Scheduling notifications",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}